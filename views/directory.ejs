<%- include('partials/head') -%>
  <body class="">

    <!-- Page Container -->
    <main class="absolute w-full h-full z-10 overflow-hidden flex flex-col m-0 self-center bg-slate-20 dark:bg-slate-800"> 

    <!-- Page Heading -->
    <div class="flex flex-row justify-between items-start mx-4 sm:mx-10 mt-4 sm:mt-8 sm:mr-28">

      <div class="w-full flex flex-col sm:flex-row sm:justify-between">

        <div class="flex flex-col">
            <h1 class="text-2xl font-semibold leading-6 text-gray-900 dark:text-slate-100 whitespace-nowrap"><%= church.name %></h1> 
            <p class="mt-2 text-sm text-gray-700 dark:text-slate-300 whitespace-nowrap"><%= church.description %></p>
        </div>
  
        <!-- Search Bar -->
        <% if(user.church[0]) { %>
        <div class="self-center z-50 mt-4 sm:mx-2 sm:mt-0 w-full max-w-[500px] sm:max-w-9/12 sm:ml-20">
  
          <div class="flex flex-col items-center sm:items-end w-full">
            <div class="flex flex-row sm:items-end w-full">
  
                  <div class="w-full">
                      <label for="email" class="block text-sm font-medium leading-6 text-gray-900 dark:text-slate-100">Find User By Name</label> 
                      <input 
                          id="search" 
                          name="search" 
                          type="search" 
                          class="block w-full rounded-md border-0 py-1.5 px-3 dark:bg-slate-200 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-700 sm:text-sm sm:leading-6"
                          required 
                      >
                  </div>

                  <div class="mt-4 self-end">
                      <button id="searchSubmit" type="button" class="block rounded-md bg-blue-700 px-3 py-2 ml-4 text-center text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 whitespace-nowrap">Search</button>
                  </div>

                </div>
  
                <div class="mt-2 self-end">
                  <span id="searchErrorMessage" class="text-sm text-red-500 font-semibold w-1/2 self-end"></span>
                </div>
  
          </div>   
  
        </div>
        <% } %>
      </div>

      <div class="absolute top-4 right-6 sm:hidden">
        <span id="menu" class="fa-solid fa-bars fa-2x text-blue-700 hover:text-blue-500"></span>
      </div>
    </div>

  
    <!-- Scrollable Container -->
    <section class="mx-4 sm:mx-10 mt-4 sm:mt-8 sm:mr-28 overflow-scroll no-scrollbar rounded-lg grow">
    
      <!-- Page Container -->
      <div class="flex flex-col items-center m-0 min-h-0">

        <div class="grid grid-rows-full grid-cols-full sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5  gap-4 sm:mx-10 max-w-[1800px]"> 
          <% if (directory) { directory.forEach( el => { %> 

            <div class="relative col-span-1 aspect-16/9 rounded-xl max-w-[500px]">
              <img class="rounded-xl object-cover w-full bg-gray-300" src="<%=el.image%>" alt="Picture Of <%=el.name%> z-10">
              <div id="<%=el._id%>" class="imgC absolute left-0 top-0 w-full h-full bg-slate-900/30 z-50 opacity-0 hover:opacity-100 hover:border-2 hover:border-slate-800 dark:hover:border-slate-100 rounded-xl cursor-pointer">
                <span class="absolute bottom-7 right-3 text-md font-semibold text-slate-100 pointer-events-none"><%=el.name%></span>
                <span class="absolute bottom-2 right-3 text-sm font-semibold text-slate-100 pointer-events-none"><%=el.phoneNumber%></span>
              </div>
            </div>
            
          <% })} %> 
        </div>

    </div>
        
      
    </section>


    <%- include('partials/btmLeftTxt') -%>
    <%- include('partials/nav') -%>
    <%- include('partials/profileCardModal') -%>
</main>
<script type="text/javascript" src="/js/menu.js"></script>
<%- include('partials/footer') -%>
