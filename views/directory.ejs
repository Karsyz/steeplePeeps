<%- include('partials/head') -%>
  <body class="relative flex flex-row justify-between bg-slate-20 dark:bg-slate-800 z-10">
    <main class="flex flex-col w-full h-screen overflow-hidden"> 

    <!-- Page Heading -->
    
    <div class="pl-8 pr-4 mb-4 sm:flex sm:items-center flex-row ">
      <div class="sm:flex-auto">
        <div class="flex flex-col items-start flex-wrap">
            <h1 class="text-2xl mt-5 font-semibold leading-6 text-gray-900 dark:text-slate-100"><%= church.name %></h1> 
            <p class="mt-2 text-md font-semibold text-gray-700 dark:text-slate-300"><%= church.description %></p>
        </div>
      </div>

      <% if(user.church[0]) { %>
      <!-- <form action="/profile/userProfile/searchUser" method="POST"> -->
        <div class="flex flex-col ml-0 sm:ml-4 mb-4">
            <div class="flex flex-row justify-end items-end mt-4">
                <div class="w-full">
                    <label for="email" class="block text-sm font-medium leading-6 text-gray-900 dark:text-slate-100 mt-2">Find User By Name</label> 
                    <input 
                        id="search" 
                        name="search" 
                        type="search" 
                        class="block w-full rounded-md border-0 py-1.5 px-3 dark:bg-slate-200 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-700 sm:text-sm sm:leading-6"
                        required 
                    >
                </div>
                <div class="mt-4 self-end">
                    <button id="searchSubmit" type="button" class="block rounded-md bg-blue-700 px-3 py-2 ml-4 text-center text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 whitespace-nowrap">Search</button>
                </div>
              </div>
              <div class="mt-2 self-end">
                <span id="searchErrorMessage" class="text-sm text-red-500 font-semibold w-1/2 self-end"></span>
              </div>
          

        </div>       
    <!-- </form> -->
    <% } %>
    </div>
    
    <!-- Scrollable Container -->
    <section class="ml-8 mr-4 mt-3 overflow-scroll no-scrollbar rounded-lg grow">
    
      <!-- Page Container -->
      <div class="flex flex-col items-center m-0 min-h-0">

        <div class="grid grid-rows-full grid-cols-full sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5  gap-4 m-2 sm:mx-10 max-w-[1800px]"> 
          <% if (directory) { directory.forEach( el => { %> 

            <div class="relative col-span-1 aspect-square rounded-xl max-w-[500px]">
              <img class="rounded-xl object-cover w-full bg-gray-300" src="<%=el.image%>" alt="Picture Of <%=el.name%> z-10">
              <div id="<%=el._id%>" class="imgC absolute left-0 top-0 w-full h-full bg-slate-900/30 z-50 opacity-0 hover:opacity-100 hover:border-2 hover:border-slate-800 dark:hover:border-slate-100 rounded-xl cursor-pointer">
                <span class="absolute bottom-7 right-3 text-md font-semibold text-slate-100 pointer-events-none"><%=el.name%></span>
                <span class="absolute bottom-2 right-3 text-sm font-semibold text-slate-100 pointer-events-none"><%=el.phoneNumber%></span>
              </div>
            </div>
            
          <% })} %> 
        </div>

    </div>
        
      
    </section>


    <%- include('partials/btmLeftTxt') -%>
</main>
<%- include('partials/nav') -%>
<%- include('partials/profileCardModal') -%>
<%- include('partials/darkMode') -%>
<%- include('partials/footer') -%>
