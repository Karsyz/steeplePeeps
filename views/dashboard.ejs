<%- include('partials/head') -%>
<body class="">
  <!-- Page Main Container -->
  <main class="absolute w-full h-full overflow-hidden">
    <!-- Main Inner Container | width changes to show navbar -->
    <div
      id="mainInner"
      class="flex flex-row w-[calc(100%_+_72px)] sm:w-full h-full bg-slate-20 dark:bg-slate-800 ease duration-150"
    >
      <div
        class="flex flex-col w-full h-full p-4 sm:p-8 gap-4 sm:gap-8 grow min-h-0 z-10"
      >
        <!-- Page Heading -->
        <div class="flex flex-row w-full justify-between">
          <div class="flex flex-col">
            <h1
              class="text-2xl font-semibold leading-6 text-gray-900 dark:text-slate-100 whitespace-nowrap"
            >
              <%= user.name %>
            </h1>
            <p
              class="mt-2 text-sm text-gray-700 dark:text-slate-300 whitespace-nowrap"
            >
              Admin Dashboard
            </p>
          </div>

          <div class="hidden sm:block">
            <%- include('partials/addUser', {demo: demo}) -%>
          </div>

          <div class="flex flex-row gap-4 sm:hidden">
            <span
              id="openAddUserButton"
              class="fa-solid fa-user-plus fa-2x text-blue-700"
            ></span>

            <span id="menu" class="fa-solid fa-bars fa-2x text-blue-700"></span>
          </div>
        </div>

        <div class="flex flex-col items-center gap-6 grow min-h-0 w-full h-full">

          <!-- Member Filter Input -->
          <input id="memberFilter" type="text" class="rounded-md w-full sm:w-[35ch] text-slate-900 bg-slate-100" placeholder="Name Search"/>


          <!-- Scrollable Container -->
          <section
            class="overflow-scroll no-scrollbar scroll-smooth w-full flex flex-col grow min-h-0 drop-shadow-xl max-w-[1000px]"
          >
            <ul id="allUsers" class="flex flex-col gap-4 w-full">
              <% if (allUsers) { allUsers.forEach( (el, ind) => { %>
                <%- include('partials/dashboardListItem', {el: el, ind:ind} ) -%>
              <% })} %>
            </ul>
          </section>

        </div>
        <%- include('partials/btmLeftTxt') -%>
      </div>

      <!-- Nav Container -->
      <div id="navCont" class="h-full sm:block ease duration-150 min-w-[72px]">
        <%- include('partials/nav') -%>
      </div>

      <!-- Add User Modal -->
      <div
        id="addUserModalCont"
        class="-translate-y-full ease-in-out duration-150 sm:hidden absolute top-0 flex flex-col items-center bg-gray-900/70 w-full h-full z-50"
      >
        <div
          class="flex flex-row justify-end gap-5 mt-28 bg-slate-300 p-8 rounded-lg mx-5"
        >
          <%- include('partials/addUser', {demo: demo}) -%>
          <span
            id="closeAddUserButton"
            class="fa fa-close fa-2x text-blue-700 hover:text-blue-500 -mr-6 -mt-6"
          ></span>
        </div>
      </div>

      <%- include('partials/profileCardModal') -%>
    </div>
  </main>

  <script type="text/javascript" src="/js/menu.js"></script>
  <script type="text/javascript" src="/js/scrollToErr.js"></script>
  <script type="text/javascript" src="/js/emailSendButton.js"></script>
  <script type="text/javascript" src="/js/copyToClipboard.js"></script>
  <script type="text/javascript" src="/js/memberFilter.js"></script>
  <%- include('partials/footer') -%>
</body>
